# üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–µ–¥–∏–Ω—ã–π —Ñ–∞–π–ª `.env`** –≤ –∫–æ—Ä–Ω–µ –¥–ª—è –æ–±–æ–∏—Ö –±–æ—Ç–æ–≤. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ.

```
/Biblia/
‚îú‚îÄ‚îÄ .env              # ‚úÖ –ï–¥–∏–Ω—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–Ω–µ –≤ Git)
‚îú‚îÄ‚îÄ .env.example      # –ü—Ä–∏–º–µ—Ä –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ user_bot/
‚îÇ   ‚îî‚îÄ‚îÄ config.py     # –ß–∏—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ .env
‚îî‚îÄ‚îÄ admin_bot/
    ‚îî‚îÄ‚îÄ config.py     # –ß–∏—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ .env
```

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä
cp .env.example .env

# 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª
nano .env

# 3. –ì–æ—Ç–æ–≤–æ! –û–±–∞ –±–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª
```

## üìù –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### ü§ñ Telegram –ë–æ—Ç—ã

```env
# User Bot Token (–ø–æ–ª—É—á–∏—Ç–µ –æ—Ç @BotFather)
USER_BOT_TOKEN=7404722403:AAFm8MZDlhLoBMRtYlICDMNXyJ01U7TAdI4

# Admin Bot Token (–ø–æ–ª—É—á–∏—Ç–µ –æ—Ç @BotFather)
ADMIN_BOT_TOKEN=7763530661:AAFrnrbArarKPG_iCdPvreLZHrXee7ymsyE
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω—ã:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram, –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ —Å–æ–æ–±—â–µ–Ω–∏—è

### üß† OpenAI

```env
# OpenAI Key –¥–ª—è User Bot
USER_OPENAI_API_KEY=sk-proj-...

# OpenAI Key –¥–ª—è Admin Bot  
ADMIN_OPENAI_API_KEY=sk-proj-...

# ID Assistant'–∞ (–¥–ª—è User Bot)
ASSISTANT_ID=asst_sK8jUyCCnSIAL6XqL0CSEwFi
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ [platform.openai.com](https://platform.openai.com)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [API Keys](https://platform.openai.com/api-keys)
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)

**–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å Assistant:**
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Assistants](https://platform.openai.com/assistants)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Assistant ID (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `asst_`)

### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL

```env
DB_HOST=localhost
DB_PORT=5432
DB_NAME=telegram_bot
DB_USER=bot_user
DB_PASSWORD=eyo3uZh8uWsrinldTe
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ `database/setup_database.sh`

### üë§ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

```env
# –í–∞—à Telegram User ID
SUPER_ADMIN_ID=304631563

# ID –∫–∞–Ω–∞–ª–∞/–≥—Ä—É–ø–ø—ã –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
ADMIN_CHANNEL_ID=-1003415479914

# ID —Ç–µ–º—ã –≤ –≥—Ä—É–ø–ø–µ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Topics)
ADMIN_CHANNEL_THREAD_ID=2

# –°—Å—ã–ª–∫–∞-–ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ –≤ –∞–¥–º–∏–Ω –≥—Ä—É–ø–ø—É
ADMIN_CHANNEL_LINK=https://t.me/+WLn4SNrLCjRiMDIy
```

**–ö–∞–∫ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID:**
1. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É [@userinfobot](https://t.me/userinfobot)
2. –û–Ω –æ—Ç–≤–µ—Ç–∏—Ç —Å –≤–∞—à–∏–º ID

**–ö–∞–∫ —É–∑–Ω–∞—Ç—å Channel ID:**
1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª/–≥—Ä—É–ø–ø—É –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `getUpdates` API Telegram
4. ID –±—É–¥–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ `-100xxxxxxxxxx`

### ‚öôÔ∏è –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```env
# –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
MAX_WORKERS=5
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

1. **`.env` –∏—Å–∫–ª—é—á–µ–Ω –∏–∑ Git** —á–µ—Ä–µ–∑ `.gitignore`
2. **–¢–æ–ª—å–∫–æ `.env.example`** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (–±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
3. **–û–±–∞ –±–æ—Ç–∞ —á–∏—Ç–∞—é—Ç –∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞** - –Ω–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤
4. **GitHub Secret Scanning** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –∫–ª—é—á–µ–π

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

- ‚ùå **–ù–∏–∫–æ–≥–¥–∞** –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ñ–∞–π–ª `.env` –≤ Git
- ‚ùå **–ù–µ –¥–µ–ª–∏—Ç–µ—Å—å** —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ –∫–ª—é—á–∞–º–∏ –ø—É–±–ª–∏—á–Ω–æ
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **—Ä–∞–∑–Ω—ã–µ OpenAI –∫–ª—é—á–∏** –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π (dev/prod)
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ **—Ä–æ—Ç–∏—Ä—É–π—Ç–µ** API –∫–ª—é—á–∏
- ‚úÖ **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –ø—Ä–∞–≤–∞** –¥–ª—è production –∫–ª—é—á–µ–π

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ä–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–ï—Å–ª–∏ —É –≤–∞—Å –±—ã–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–µ `.env` —Ñ–∞–π–ª—ã –≤ `user_bot/` –∏ `admin_bot/`:

```bash
# 1. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –µ–¥–∏–Ω—ã–π .env –≤ –∫–æ—Ä–Ω–µ
cp .env.example .env

# 2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤
# user_bot/.env: TELEGRAM_TOKEN ‚Üí USER_BOT_TOKEN
# admin_bot/.env: TELEGRAM_TOKEN ‚Üí ADMIN_BOT_TOKEN
# –∏ —Ç.–¥.

# 3. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã
rm user_bot/.env admin_bot/.env

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç—ã
```

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# User Bot
cd user_bot
python3 -c "from config import config; config.validate(); print('‚úÖ OK')"

# Admin Bot
cd admin_bot
python3 -c "from config import config; config.validate(); print('‚úÖ OK')"
```

## üì¶ –ü—Ä–∏–º–µ—Ä –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π

### Development
```bash
# .env.development
USER_BOT_TOKEN=test_token_user
ADMIN_BOT_TOKEN=test_token_admin
LOG_LEVEL=DEBUG
```

### Production
```bash
# .env.production
USER_BOT_TOKEN=prod_token_user
ADMIN_BOT_TOKEN=prod_token_admin
LOG_LEVEL=INFO
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
```bash
# Development
cp .env.development .env

# Production
cp .env.production .env
```

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –µ–¥–∏–Ω–æ–≥–æ .env

‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞** - –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ  
‚úÖ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –æ–±—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–ë–î) –Ω–µ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è  
‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –æ–¥–∏–Ω —Ñ–∞–π–ª –ø—Ä–æ—â–µ –∑–∞—â–∏—Ç–∏—Ç—å  
‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - –ª–µ–≥—á–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å  
‚úÖ **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ** - –æ–¥–∏–Ω —Ñ–∞–π–ª –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä  

## üÜò Troubleshooting

### "Config validation failed"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -la .env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã
cat .env | grep "your_.*_here"
```

### "Cannot load .env file"
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
pwd
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: /path/to/Biblia

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
chmod 600 .env
```

### "Invalid token"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–∞ Telegram
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
grep "BOT_TOKEN" .env
```

---

‚ú® **–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞—è –∏ —É–¥–æ–±–Ω–∞—è!**
