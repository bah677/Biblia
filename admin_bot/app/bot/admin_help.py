from app.storage.user_storage import UserStorage

class AdminHelp:
    def __init__(self, user_storage: UserStorage):
        self.user_storage = user_storage
    
    async def get_admin_help(self, user_id: int) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∞–¥–º–∏–Ω–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –µ–≥–æ –ø—Ä–∞–≤"""
        is_super_admin = await self.user_storage.is_super_admin(user_id)
        is_admin = await self.user_storage.is_admin(user_id)
        
        if not (is_super_admin or is_admin):
            return "‚ùå –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º."
        
        help_text = [
            "üëë *–ü–ê–ù–ï–õ–¨ –ê–î–ú–ò–ù–ò–°–¢–†–ê–¢–û–†–ê*",
            "",
            "*üìä –û–°–ù–û–í–ù–´–ï –ö–û–ú–ê–ù–î–´:*",
            "",
            "‚Ä¢ /stats - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–æ—Ç–∞",
            "  _–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞–∫—Ç–∏–≤–Ω—ã—Ö, —Å–æ–æ–±—â–µ–Ω–∏—è_",
            "",
            "‚Ä¢ /token_stats [–¥–Ω–µ–π] - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤",
            "  _–ü—Ä–∏–º–µ—Ä: /token_stats 7 - –∑–∞ 7 –¥–Ω–µ–π_",
            "  _–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –æ–±—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, —Ç–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π_",
            "",
            "‚Ä¢ /user_tokens <user_id> [–¥–Ω–µ–π] - –¢–æ–∫–µ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è", 
            "  _–ü—Ä–∏–º–µ—Ä: /user_tokens 123456 30_",
            "  _–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –¥–µ—Ç–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é_",
            "",
            "‚Ä¢ /token_leaderboard [–¥–Ω–µ–π] [–ª–∏–º–∏—Ç] - –¢–æ–ø –ø–æ —Ç–æ–∫–µ–Ω–∞–º",
            "  _–ü—Ä–∏–º–µ—Ä: /token_leaderboard 30 5 - —Ç–æ–ø-5 –∑–∞ 30 –¥–Ω–µ–π_",
            "",
        ]
        
        if is_super_admin:
            help_text.extend([
                "",
                "*üîê –ö–û–ú–ê–ù–î–´ –°–£–ü–ï–†–ê–î–ú–ò–ù–ê:*",
                "",
                "‚Ä¢ /add_admin <user_id> - –î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞",
                "  _–ü—Ä–∏–º–µ—Ä: /add_admin 123456789_",
                "",
                "‚Ä¢ /remove_admin <user_id> - –£–¥–∞–ª–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞", 
                "  _–ü—Ä–∏–º–µ—Ä: /remove_admin 123456789_",
                "",
                "‚Ä¢ /list_admins - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤",
                "  _–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –∫—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω, –∫–µ–º –∏ –∫–æ–≥–¥–∞_",
                "",
            ])
        
        help_text.extend([
            "",
            "*üí° –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø:*",
            "",
            "‚Ä¢ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ –Ω–µ–¥–µ–ª—é:",
            "  /token_stats 7",
            "",
            "‚Ä¢ –ù–∞–π—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:",
            "  _–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /stats –¥–ª—è –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞_",
            "  _–ó–∞—Ç–µ–º /user_tokens –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –ø–æ –∫–∞–∂–¥–æ–º—É_", 
            "",
            "‚Ä¢ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞—Å—Ö–æ–¥–æ–≤:",
            "  /token_leaderboard 7 10 - —Ç–æ–ø-10 –∑–∞ –Ω–µ–¥–µ–ª—é",
            "  /token_stats 1 - —Ä–∞—Å—Ö–æ–¥—ã –∑–∞ —Å–µ–≥–æ–¥–Ω—è",
            "",
            "*üÜò –ü–û–ú–û–©–¨:*",
            "–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É",
            "",
            "_üìÖ –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 12.11.2025_"
        ])
        
        return "\n".join(help_text)